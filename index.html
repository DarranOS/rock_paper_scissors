<DOCTYPE html>
    <html>
        <head>
    
        </head>
        <body>
            <script>
    // computer pick
                
            let playerInput;
            let playerChoice;
            
            let result;
            let currentRound;
            let playerScore;
            let computerScore;
            

            function computerPlay() {
            let randomNumber = Math.floor(Math.random() * 3 + 1);
                switch(randomNumber){
                    case 1: 
                    return "Rock";
                    break;
                    case 2:
                    return "Paper";
                    break;
                    case 3: 
                    return "Scissors";
                    break;

                }
            }
        

            function playRound(playerChoice, computerChoice){
                
                if (playerChoice === computerChoice) {
                    return "Draw";
                } else if (playerChoice === "Rock" && computerChoice === "Scissors"){
                    return "Win";                       
                } else if (playerChoice === "Scissors" && computerChoice === "Paper") {
                    return "Win"; 
                } else if (playerChoice === "Paper" && computerChoice === "Rock") {
                    return "Win";                        
                } else {
                    return "Loss"; 
                }
            }

            function roundReport(result) {
                if (result === "Win") {    
                    playerScore += 1;
                    console.log(`Round ${currentRound} of 5: You: ${playerChoice}. Computer: ${computerChoice}. %cYou win!  ${playerScore} - ${computerScore}`, `color: green`);
                } else if (result === "Loss"){
                    computerScore += 1;
                    console.log(`Round ${currentRound} of 5: You: ${playerChoice}. Computer: ${computerChoice}. %cYou lose!,  ${playerScore} - ${computerScore}`, `color: red`);
                } else {
                    console.log(`Round ${currentRound} of 5: You: ${playerChoice}. Computer: ${computerChoice}. Draw,  ${playerScore}- ${computerScore}`);
                    return;
                }
            }

            function playerPrompt(){
                playerInput = prompt(`Round ${currentRound}: Choose from 'Rock', 'Paper', or 'Scissors'.`);
                // Sends the inputed string to the data validation function
                validateInput(playerInput);
            }

            function validateInput(enteredData) {
                // Put the entered text to proper case
                playerChoice = enteredData.charAt(0).toUpperCase() + playerInput.slice(1).toLowerCase();

                // Make sure the input matches Rock, Paper or Scissors
                while(playerChoice !== "Rock" && playerChoice !== "Paper" && playerChoice !== "Scissors") {              
                    playerPrompt();
                    }
                // Sends the correct choice back to the game function.    
                return;
            }
                
            function announceResults() {
                console.log(`Final scores, Player: ${playerScore}. Computer: ${computerScore}.`);
                if (playerScore > computerScore) {
                    console.log("%cYou win the match!!", "color: green; font-size: 20px; background-color: palegreen");
                } else if(computerScore > playerScore) {
                    console.log("%cYou lose the match!!", "color: red; font-size: 18px");
                } else {
                    console.log("Match draw");  
                }
            }

            function playAgain() {
                let anotherGame = confirm("Would you like to play again?");
                if(anotherGame) {
                    game();
                } else {
                    console.log("Thanks for playing! Goodbye")
                }
            }

            function game() {
                currentRound = 1;
                playerScore = 0;
                computerScore = 0;
                console.log(`${currentRound} / ${playerScore} / ${computerScore}`);
                
                //start loop. If currentRound is less than 5,
                while(currentRound < 6) {
                    //open a player prompt and validate.
                    playerPrompt();
                    
                    //run the random generator
                    computerChoice = computerPlay();
                    
                    //play the round.
                    result = playRound(playerChoice, computerChoice);
                    
                    //report the result
                    roundReport(result);                  

                    //increase the round count to break loop
                    currentRound += 1;
                }     
                
                // currentRound is more than 4,

                announceResults(); 

                playAgain();
           

            }
        
            game();    
    
    
            </script>
                    
        </body>
    
    </html>